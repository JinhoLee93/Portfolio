# [40 Seconds (하루 40초)](https://apps.apple.com/kr/app/%ED%95%98%EB%A3%A8-40%EC%B4%88/id1612627349?l=en)

**[유튜브 링크](https://youtu.be/3eXYfnBKCjE)**

**-사용된 디자인 패턴 및 개발 기술: MVVM**

**-사용된 개발 언어 및 프레임워크: Swift, SwiftUI, Combine, Swift Concurrency**

## 1. 개요
하루 40초는 하루에 단 4문제, 딱 40초만 플레이할 수 있는 한국어 단어 게임 앱입니다.

## 2. 개발 목적
제가 미국 유학 생활을 끝마칠 때쯤, 미국은 Wordle 돌풍에 휩싸였습니다. 제가 처음 접한 Wordle은 모든 사람이 쉽게 플레이할 수 있을 만큼 직관적이었고, 간단했으며, 하루에 단 한 번만 플레이할 수 있음에도 불구하고 강력한 중독성이 있었습니다. Wordle은 저에게 처음으로 간단함의 미학을 일깨워 주었고, 한국어로 비슷한 단어 게임을 만들어보고 싶은 열망을 선사해 주었습니다. 자극적이고 선정적인 세상에서 한 문제당 10초씩, 하루에 40초만이라도 마음을 놓을 수 있는 편안한 공간을 유저에게 만들어주고 싶다는 생각을 하였고, 하루 40초 구상에 들어가게 되었습니다. 제가 첫 번째로 개발한 앱인 하루 40초는 제 시각에서 바라본 한국어 단어 게임 Wordle입니다. 하루 40초를 계기로 저는 iOS 앱 개발의 재미에 눈 뜨게 되었습니다.

## 3. 디자인 패턴, 개발 기술 및 프레임워크의 사용 목적
### 디자인 패턴
- **MVVM**: 각 모듈(Model, View, ViewModel)마다 해야할 일이 정확히 정해진 Clean Architecture를 구현하기 위해 MVVM 디자인 패턴을 사용하였습니다.

### 프레임워크
- **SwiftUI**: 하루 40초는 많은 애니메이션이 합쳐진 단어 "게임"입니다. 그렇기에, 당시엔 그래픽 애니메이션을 쉽게 구현할 수 있고, 애니메이션을 위한 많은 서포트가 장착되어 있는 SwiftUI가 UIKit보다 매력적인 선택이었습니다.
  
- **Combine**: 하루 40초를 포함한 정해진 시간 동안만 플레이할 수 있는 게임의 중심은 타이머입니다. 하루 40초엔 게임 타이머와 백그라운드 타이머 두 개가 구현되어 있습니다. 하나는 40초를 재고, 또 다른 하나는 뒤에서 게임이 끝난 순간부터 24시간을 재게 됩니다. 이 타이머를 구현하기 위해 Timer를 Publisher로서 전환할 수 있는 Combine이 필요했기에, Combine을 사용하게 되었습니다.

- **Swift Concurrency**: 상당히 많은 양의 UI가 비동기 작업을 통해 애니메이션을 수행하였으므로, Task.sleep() 함수를 이용한 Swift Concurrency 헬퍼 함수를 만들어놓고, 그것을 통해 비동기 애니메이션 작업을 구현하였습니다.

## 4. 개발 중 난관 및 해결 방법
- 정답시 카드를 180도 넘겨짐에도 불구하고 위의 글자를 360도 넘기는 이펙트:
  -> 구현 목표:

![Cards Being Flipped](https://github.com/JinhoLee93/Portfolio/assets/60580427/8d73bf1f-323f-4e22-9db6-561ba40589b4)

  -> 개발 과정: 가장 간단한 방법으로는 카드를 두 개 이어 붙여 360도 넘기는 것이었습니다. 하지만, 그렇게 애니메이션을 구현했을 때, 정신없이 발생하는 시각 이펙트 때문에 보는 이로 하여금 불쾌감을 주었습니다. 많은 시도끝에 도달하게 된 결론은 하나의 카드로 작업하는 것을 고수하는 것이 정답이 아니라는 것 이었습니다. 정상인 카드를 보여주고, 그 뒤엔 이미 180도 뒤집어진 카드를 붙여놓은 상태에서, 180도 뒤집기를 하게 되면, 자연스럽게 뒤에 있는 카드가 정상으로 나올 것이란 생각과 함께 시작부터 두 개의 카드를 붙여 뷰 구조체를 구현하였고, 이는 제가 원하는 결과를 얻을 수 있도록 도와주었습니다. 

## 5. To-Do's
- [x] GCD에서 Swift Concurrency로 Migrate
- [ ] 문제 단어 로컬 버퍼를 없애고 서버 구현을 통해 서버로부터 문제 받아오기
- [ ] 테스트 코드 작성
